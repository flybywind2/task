# Todo2 EXE 파일 빌드 가이드

이 가이드는 Todo2 애플리케이션을 독립 실행 가능한 EXE 파일로 만드는 방법을 설명합니다. Windows용 데스크톱 애플리케이션으로 변환하여 Python 설치 없이도 사용할 수 있습니다.

## 🚀 빌드 방법

### Windows 사용자 (권장)

1. **자동 빌드 스크립트 사용**
   ```bash
   build_exe.bat
   ```
   - 배치 파일을 더블클릭하거나 명령프롬프트에서 실행
   - 자동으로 의존성 설치, 빌드, 테스트까지 수행
   - PyInstaller 캐시 정리 포함

2. **수동 빌드**
   ```bash
   # 가상환경 활성화 (선택사항)
   venv\Scripts\activate
   
   # 필요한 패키지 설치
   pip install pyinstaller pystray pillow win10toast
   
   # 이전 빌드 정리
   rmdir /s /q build dist __pycache__
   
   # EXE 파일 빌드
   pyinstaller --clean todo2.spec
   pyinstaller todo2.spec
   ```

### 자동 빌드 스크립트 특징

- **자동 환경 설정**: 가상환경 자동 활성화
- **의존성 설치**: 필요한 모든 패키지 자동 설치
- **캐시 정리**: 이전 빌드 결과 및 PyInstaller 캐시 완전 삭제
- **빌드 검증**: 빌드 성공 여부 확인
- **실행 테스트**: 생성된 EXE 파일 테스트 옵션 제공

## 📁 빌드 결과

빌드가 완료되면 다음 구조로 파일이 생성됩니다:

```
dist/
└── Todo2.exe                    # 메인 실행 파일
```

**생성되는 파일:**
- `Todo2.exe`: 독립 실행 가능한 애플리케이션
- `todo2_server.log`: 서버 로그 파일 (실행 시 생성)
- `todo.db`: SQLite 데이터베이스 (실행 시 생성)

## 🎯 사용 방법

### 1. 실행 방법
- `Todo2.exe` 더블클릭하여 실행
- CMD 창 없이 백그라운드에서 실행

### 2. 자동 실행 과정
1. **서버 시작**: 자동으로 사용 가능한 포트를 찾아 웹서버 시작 (기본: 8501)
2. **시스템 트레이**: 파란색 "T2" 아이콘이 시스템 트레이에 표시
3. **Windows 알림**: 서버 시작 완료 시 알림 표시
4. **브라우저 실행**: 자동으로 기본 브라우저에서 애플리케이션 열기

### 3. 시스템 트레이 기능
트레이 아이콘 우클릭 메뉴:
- **Todo2 열기**: 브라우저에서 애플리케이션 열기
- **서버 정보**: 현재 서버 상태 및 URL 확인
- **로그 파일 열기**: 디버깅용 로그 파일 열기
- **종료**: 애플리케이션 완전 종료

### 4. 종료 방법
- 시스템 트레이 아이콘 우클릭 → "종료"
- 작업 관리자에서 Todo2.exe 프로세스 종료

## 🔧 문제 해결

### 빌드 오류 시

1. **의존성 설치 확인**
   ```bash
   pip install -r requirements.txt
   pip install pyinstaller pystray pillow win10toast
   ```

2. **캐시 완전 정리**
   ```bash
   # PyInstaller 캐시 정리
   pyinstaller --clean todo2.spec
   
   # 빌드 디렉토리 정리
   rmdir /s /q build dist __pycache__
   ```

3. **가상환경 재생성**
   ```bash
   # 기존 가상환경 삭제
   rmdir /s /q venv
   
   # 새 가상환경 생성
   python -m venv venv
   venv\Scripts\activate
   pip install -r requirements.txt
   ```

### 실행 오류 시

1. **로그 파일 확인**
   - 트레이 아이콘 우클릭 → "로그 파일 열기"
   - `todo2_server.log` 파일에서 오류 확인

2. **서버 연결 실패**
   - 브라우저에서 "연결할 수 없음" 오류 시
   - 로그 파일에서 서버 시작 오류 확인
   - 방화벽 설정 확인

3. **포트 충돌**
   - 자동으로 다른 포트를 찾아 사용
   - 트레이 메뉴 "서버 정보"에서 실제 포트 확인

4. **시스템 트레이 아이콘 미표시**
   - Windows 알림 영역 설정 확인
   - 숨겨진 아이콘 영역 확인
   - 프로세스는 정상 실행 중 (작업 관리자 확인)

### 디버깅 도구

1. **로그 파일 위치**: EXE 파일과 같은 폴더의 `todo2_server.log`
2. **콘솔 모드 빌드**: `todo2.spec`에서 `console=True`로 변경 후 재빌드
3. **포트 확인**: 트레이 메뉴 → "서버 정보"

## 📋 포함된 기능

### 🎨 사용자 인터페이스
- **칸반보드**: 드래그 앤 드롭으로 상태 변경
  - 미니 카드 모드: 간소화된 카드 표시
  - 레이블 그룹핑: 레이블별 할일 그룹화
- **리스트뷰**: 테이블 형태로 할일 관리
  - 인라인 편집: 제목 더블클릭으로 즉시 편집
  - 드롭다운 수정: 상태/카테고리/우선순위 클릭으로 즉시 변경
  - 일괄 작업: 여러 할일 선택하여 한번에 처리

### 🏷️ 분류 및 관리
- **카테고리**: 색상별 카테고리 분류
- **레이블**: 태그 기반 분류 및 그룹핑
- **우선순위**: 4단계 우선순위 (낮음/보통/높음/긴급)
- **핀고정**: 중요한 할일 우선 표시

### 📊 통계 및 분석
- **대시보드**: 진행률 및 통계 확인
- **상태별 현황**: 원형 차트로 시각화
- **카테고리별 통계**: 완료율 및 현황
- **일별/누적 통계**: 생산성 분석

### 📤 데이터 관리
- **CSV 내보내기/가져오기**: 데이터 백업 및 이관
- **템플릿 제공**: CSV 형식 가이드

### ⌨️ 편의 기능
- **키보드 단축키**: Ctrl+Enter로 저장, ESC로 취소
- **자동 저장**: 변경사항 즉시 반영
- **실시간 업데이트**: 브라우저 새로고침 없이 동기화

## 🎨 커스터마이징

### 포트 변경
`main.py` 파일에서 다음 부분 수정:
```python
def find_free_port(self, start_port=8501):  # 기본 포트 변경
```

### 아이콘 추가
1. ICO 파일 준비 (32x32 또는 64x64 권장)
2. `todo2.spec` 파일에서 수정:
   ```python
   icon='path/to/your/icon.ico'  # None을 실제 경로로 변경
   ```

### 애플리케이션 이름 변경
`todo2.spec` 파일에서:
```python
name='Todo2'  # 원하는 이름으로 변경
```

### 추가 파일 포함
`todo2.spec` 파일의 `datas` 리스트에 필요한 파일 경로 추가:
```python
datas = [
    (str(current_dir / 'static'), 'static'),
    (str(current_dir / 'templates'), 'templates'),
    (str(current_dir / 'app'), 'app'),
    ('your_file.txt', '.'),  # 추가 파일
]
```

## 📦 배포

### 배포 준비
생성된 `Todo2.exe` 파일은 다른 Windows 컴퓨터에서도 실행 가능합니다.

### 시스템 요구사항
- **운영체제**: Windows 7 이상
- **메모리**: 최소 512MB RAM
- **디스크**: 50MB 여유 공간
- **네트워크**: 인터넷 연결 (선택사항)

### 배포 시 주의사항
- Windows Defender나 백신 프로그램에서 경고할 수 있음 (허용 처리 필요)
- 첫 실행 시 Windows 방화벽 허용 요청 가능
- 실행 파일과 같은 폴더에 `todo.db` 파일이 생성됨

### 설치 없는 실행
- 별도 설치 과정 없이 바로 실행 가능
- Python 런타임 포함되어 Python 설치 불필요
- 모든 의존성 라이브러리 포함

## 🔒 보안 고려사항

- 로컬 서버 실행 (외부 접근 불가)
- 데이터는 로컬 SQLite 파일에 저장
- 네트워크를 통한 데이터 전송 없음
- 개인정보 수집하지 않음

## 🆘 지원 및 문제 신고

### 문제 발생 시
1. **로그 파일 확인**: 트레이 → "로그 파일 열기"
2. **GitHub Issues**: 상세한 오류 로그와 함께 이슈 등록
3. **환경 정보 포함**: Windows 버전, 에러 메시지, 로그 파일 내용

### 개선 제안
- 새로운 기능 요청
- UI/UX 개선 아이디어
- 성능 최적화 제안

GitHub Repository: [프로젝트 URL]

---

**Todo2** - Python 설치 없이 사용하는 강력한 할일 관리 도구 🚀